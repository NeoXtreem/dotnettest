# Schnoodle DApp
Schnoodle X is a DApp to allow interact with the Schnoodle smart contract via a web browser interface.

# Prerequisites
- [Node.js](https://nodejs.org)
- [Visual Studio 2022](https://visualstudio.microsoft.com)
- [Visual Studio Code](https://code.visualstudio.com)
- [Solidity extension](https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity)
- Local blockchain (use [Truffle Develop](https://www.trufflesuite.com/docs/truffle/getting-started/using-truffle-develop-and-the-console#truffle-develop) or [Ganache](https://www.trufflesuite.com/ganache))

# Setup
Execute the following commands in a `truffle develop` console in the root folder of the repo:
1. `compile --all`
1. `migrate`
1. `exec scripts/initialize.js`

# Run
1. Execute `npm i` in the **ClientApp** folder.
1. Open **Schnoodle.sln** in Visual Studio 2022.
1. [Update autogenerated files](#update-autogenerated-files) if necessary. Otherwise, change `NethereumGenerateCode` in **SchnoodleDApp.csproj** to `false` (do not commit this change to source control).
1. Build and run.
1. Connect MetaMask to local network (e.g., http://localhost:7545). You will need to reset MetaMask (in advanced settings) if the network was restarted since the previous run.
1. Add the first account private key in Truffle Develop to MetaMask, and select this account.

## Update Autogenerated Files
1. Open the root folder if the repo in Visual Studio Code.
1. Open each Solidity file matching the ABI files listed in **Nethereum.Generator.json** and press F5 ('Solidity: Compile Contract' command).